<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Violympic To√°n L·ªõp 5</title>
<style>
body{
    font-family: Arial, sans-serif;
    background:#eef6ff;
    padding:20px;
}
.container{
    max-width:720px;
    margin:auto;
    background:white;
    padding:20px;
    border-radius:10px;
}
h1{text-align:center;}
.timer{
    text-align:center;
    color:red;
    font-size:18px;
}
.progress{text-align:center;margin:10px 0;}
.answers label{
    display:block;
    font-size:18px;
    margin:8px 0;
}
button{
    padding:10px 20px;
    font-size:16px;
    background:#3498db;
    color:white;
    border:none;
    border-radius:6px;
    cursor:pointer;
}
button:disabled{background:gray;}
.hidden{display:none;}
input{
    padding:8px;
    font-size:16px;
}
</style>
</head>

<body>
<div class="container">

<!-- LOGIN -->
<div id="login">
    <h1>üîê NH·∫¨P M√É V√ÄO THI</h1>
    <input id="accessCode" placeholder="Nh·∫≠p m√£ v√†o thi">
    <br><br>
    <button onclick="checkCode()">B·∫Øt ƒë·∫ßu</button>
    <p id="error" style="color:red;"></p>
</div>

<!-- QUIZ -->
<div id="quizBox" class="hidden">
<h1>V√íNG THI TO√ÅN L·ªöP 5</h1>

<div class="timer">
‚è±Ô∏è Th·ªùi gian c√≤n l·∫°i: <span id="time">1800</span> gi√¢y
</div>

<div class="progress">
C√¢u <span id="current">1</span> / 30
</div>

<div id="question" style="font-size:21px; margin:15px 0;"></div>
<div class="answers" id="answers"></div>

<div style="text-align:center;margin-top:15px">
<button id="nextBtn" onclick="nextQuestion()" disabled>Ti·∫øp theo</button>
</div>
</div>

</div>

<script>
const CODE = "TTV-TXZ8K2";
const POINT = 10;

// 30 C√ÇU TO√ÅN L·ªöP 5
let questions = [
{q:"125 + 378 = ?",a:["493","503","513"],c:1},
{q:"840 ‚àí 275 = ?",a:["565","555","575"],c:0},
{q:"36 √ó 25 = ?",a:["800","850","900"],c:2},
{q:"720 √∑ 9 = ?",a:["70","80","90"],c:1},
{q:"3/4 + 1/4 = ?",a:["1","3/4","1/2"],c:0},
{q:"5/6 ‚àí 1/6 = ?",a:["4/6","3/6","5/6"],c:0},
{q:"2/3 √ó 6 = ?",a:["3","4","6"],c:1},
{q:"12 : 3/4 = ?",a:["16","9","18"],c:0},
{q:"0,75 = ph√¢n s·ªë n√†o?",a:["3/4","1/4","7/5"],c:0},
{q:"15% c·ªßa 200 l√†?",a:["20","30","40"],c:1},

{q:"Chu vi h√¨nh vu√¥ng c·∫°nh 8 cm l√†?",a:["16 cm","32 cm","64 cm"],c:1},
{q:"Di·ªán t√≠ch h√¨nh vu√¥ng c·∫°nh 6 cm l√†?",a:["12 cm¬≤","36 cm¬≤","24 cm¬≤"],c:1},
{q:"Chu vi h√¨nh ch·ªØ nh·∫≠t d√†i 10 cm, r·ªông 6 cm l√†?",a:["32 cm","60 cm","16 cm"],c:0},
{q:"Di·ªán t√≠ch h√¨nh ch·ªØ nh·∫≠t d√†i 9 cm, r·ªông 4 cm l√†?",a:["13 cm¬≤","26 cm¬≤","36 cm¬≤"],c:2},
{q:"Chu vi tam gi√°c c√≥ c√°c c·∫°nh 3, 4, 5 cm l√†?",a:["12 cm","10 cm","15 cm"],c:0},

{q:"Di·ªán t√≠ch tam gi√°c ƒë√°y 10 cm, cao 6 cm l√†?",a:["30 cm¬≤","60 cm¬≤","16 cm¬≤"],c:0},
{q:"Chu vi h√¨nh tr√≤n b√°n k√≠nh 7 cm (œÄ‚âà3,14)?",a:["43,96 cm","21,98 cm","87,92 cm"],c:0},
{q:"Di·ªán t√≠ch h√¨nh tr√≤n b√°n k√≠nh 5 cm (œÄ‚âà3,14)?",a:["78,5 cm¬≤","31,4 cm¬≤","157 cm¬≤"],c:0},

{q:"H√¨nh ch·ªØ nh·∫≠t c√≥ chu vi 40 cm, d√†i 12 cm. R·ªông l√†?",a:["8 cm","6 cm","10 cm"],c:1},
{q:"H√¨nh vu√¥ng c√≥ di·ªán t√≠ch 49 cm¬≤. C·∫°nh l√†?",a:["6 cm","7 cm","8 cm"],c:1},

{q:"45 √ó 18 = ?",a:["810","720","830"],c:0},
{q:"960 √∑ 12 = ?",a:["70","80","90"],c:1},
{q:"4,5 + 2,75 = ?",a:["7,15","7,25","7,35"],c:1},
{q:"6 ‚àí 2,48 = ?",a:["3,52","4,52","3,48"],c:0},
{q:"1 gi·ªù 30 ph√∫t = ? ph√∫t",a:["60","90","120"],c:1},
{q:"2,5 kg = ? g",a:["250 g","2500 g","25 g"],c:1},
{q:"M·ªôt l·ªõp c√≥ 40 HS, n·ªØ chi·∫øm 50%. S·ªë HS n·ªØ?",a:["10","20","30"],c:1},
{q:"S·ªë th√≠ch h·ª£p: 3 √ó ‚Ä¶ = 75",a:["15","20","25"],c:0}
];

let index = 0, correct = 0, wrong = 0;
let timeLeft = 1800, timer;

// CHECK CODE
function checkCode(){
    if(document.getElementById("accessCode").value.trim() === CODE){
        document.getElementById("login").classList.add("hidden");
        document.getElementById("quizBox").classList.remove("hidden");
        startTimer();
        showQuestion();
    } else {
        document.getElementById("error").innerText = "‚ùå M√£ kh√¥ng ƒë√∫ng!";
    }
}

// SHOW QUESTION (FIX RADIO BUG)
function showQuestion(){
    document.getElementById("current").innerText = index + 1;
    document.getElementById("question").innerText = questions[index].q;

    let html = "";
    questions[index].a.forEach((x,i)=>{
        html += `<label>
            <input type="radio" name="ans_${index}" value="${i}" onchange="enableNext()">
            ${x}
        </label>`;
    });
    document.getElementById("answers").innerHTML = html;
    document.getElementById("nextBtn").disabled = true;
}

function enableNext(){
    document.getElementById("nextBtn").disabled = false;
}

// NEXT QUESTION (FIX RADIO BUG)
function nextQuestion(){
    let sel = document.querySelector(`input[name="ans_${index}"]:checked`);
    if(sel && parseInt(sel.value) === questions[index].c) correct++;
    else wrong++;

    index++;
    if(index < 30) showQuestion();
    else finish();
}

// TIMER
function startTimer(){
    timer = setInterval(()=>{
        timeLeft--;
        document.getElementById("time").innerText = timeLeft;
        if(timeLeft <= 0) finish();
    },1000);
}

// FINISH
function finish(){
    clearInterval(timer);
    let score = correct * POINT;
    alert(
`üéâ K·∫æT QU·∫¢ V√íNG THI

‚úîÔ∏è C√¢u ƒë√∫ng: ${correct}
‚ùå C√¢u sai: ${wrong}

üèÜ T·ªïng ƒëi·ªÉm: ${score} / 300`
    );
    location.reload();
}
</script>

</body>
</html>
